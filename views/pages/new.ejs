<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head'); %>
  </head>
  <body class="container">
    <header><%- include('../partials/header'); %></header>

    <main>
      <form enctype="multipart/form-data">
        <div class="form-group">
          <label for="exampleInputEmail1">Email address</label>
          <input
            type="email"
            name="email"
            class="form-control"
            id="email"
            aria-describedby="email"
            placeholder="Enter email"
          />
        </div>
        <div class="form-group">
          <label for="firstName">First name</label>
          <input
            type="firstName"
            name="firstName"
            class="form-control"
            id="firstName"
            aria-describedby="firstName"
            placeholder="Enter first name"
          />
        </div>
        <div class="form-group">
          <label for="lastName">Last name</label>
          <input
            type="lastName"
            name="lastName"
            class="form-control"
            id="lastName"
            aria-describedby="lastName"
            placeholder="Enter last name"
          />
        </div>
        <div class="form-group">
          <label for="avatar">Upload photo</label>
          <input
            type="file"
            class="form-control-file"
            id="avatar"
            name="avatar"
          />
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </main>
    <script>
      const formEl = document.querySelector("form")
      formEl.addEventListener("submit", (e) => {
        e.preventDefault()

        console.log(new FormData(formEl))

        fetch("/users", {
          method: "POST",
          body: new FormData(formEl),
        }).then(() => {
          window.location.href = "/"
        })
      })
    </script>

    <footer><%- include('../partials/footer'); %></footer>
  </body>
</html>
